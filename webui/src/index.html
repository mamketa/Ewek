<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
     name="viewport"
     content="width=device-width,
              initial-scale=1.0,
              maximum-scale=1.0,
              user-scalable=no"
     />
    <link href="styles/index.css" type="text/css" rel="stylesheet" />
    <script type="module" src="scripts/webui_utils.js"></script>
    <script type="module" src="scripts/block_copy.js"></script>
    <script type="module" src="scripts/language.js"></script>
  </head>

  <body class="bg-surface flex justify-center min-h-screen root_layout">
    <main class="p-3 text-sm w-full max-w-2xl">
      <!-- Header -->
      <div class="flex justify-between items-center mb-6 text-on-surface">
        <h1 data-i18n="common.module" class="text-lg font-semibold"></h1>
        <div>
          <select id="languageSelector" class="select select-sm bg-surface-container text-on-surface"></select>
        </div>
      </div>

      <!-- Daemon Status -->
      <div class="bg-secondary-container mb-4 p-4 rounded-xl flex items-start justify-between text-on-secondary-container card_border">
        <div>
          <span id="daemon_status" class="text-lg font-semibold">Loading</span>
          <span id="daemon_pid" class="text-xs mt-3 block">One moment please...</span>
        </div>
        <img id="nusantara_logo" class="w-24 h-24" />
      </div>

      <!-- Device & Module Info -->
      <div class="bg-surface-container mb-4 p-4 rounded-xl text-on-surface card_border">
       <div class="py-2 flex items-start gap-4">
         <svg width="22" height="22" viewBox="0 0 24 24" fill="none" class="text-primary mt-2 shrink-0">
           <path d="M12 3L14.0357 8.16153C14.2236 8.63799 14.3175 8.87622 14.4614 9.0771C14.5889 9.25516 14.7448 9.41106 14.9229 9.53859C15.1238 9.68245 15.362 9.77641 15.8385 9.96432L21 12L15.8385 14.0357C15.362 14.2236 15.1238 14.3175 14.9229 14.4614C14.7448 14.5889 14.5889 14.7448 14.4614 14.9229C14.3175 15.1238 14.2236 15.362 14.0357 15.8385L12 21L9.96432 15.8385C9.77641 15.362 9.68245 15.1238 9.53859 14.9229C9.41106 14.7448 9.25516 14.5889 9.0771 14.4614C8.87622 14.3175 8.63799 14.2236 8.16153 14.0357L3 12L8.16153 9.96432C8.63799 9.77641 8.87622 9.68245 9.0771 9.53859C9.25516 9.41106 9.41106 9.25516 9.53859 9.0771C9.68245 8.87622 9.77641 8.63799 9.96432 8.16153L12 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
         </svg>
         <div>
           <h3 data-i18n="common.module" class="text-sm font-medium text-on-surface"></h3>
           <span id="module_version" class="text-xs text-on-surface-variant block mt-1"></span>
         </div>
       </div>

       <div class="py-2 flex items-start gap-4">
         <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" class="text-primary mt-2 shrink-0">
           <path d="M17.41,6.59L15,5.5l2.41-1.09L18.5,2l1.09,2.41L22,5.5l-2.41,1.09L18.5,9L17.41,6.59z M21.28,12.72L20.5,11l-0.78,1.72 L18,13.5l1.72,0.78L20.5,16l0.78-1.72L23,13.5L21.28,12.72z M16.24,14.37l1.94,1.47l-2.5,4.33l-2.24-0.94 c-0.2,0.13-0.42,0.26-0.64,0.37L12.5,22h-5l-0.3-2.41c-0.22-0.11-0.43-0.23-0.64-0.37l-2.24,0.94l-2.5-4.33l1.94-1.47 C3.75,14.25,3.75,14.12,3.75,14s0-0.25,0.01-0.37l-1.94-1.47l2.5-4.33l2.24,0.94c0.2-0.13,0.42-0.26,0.64-0.37L7.5,6h5l0.3,2.41 c0.22,0.11,0.43,0.23,0.64,0.37l2.24-0.94l2.5,4.33l-1.94,1.47c0.01,0.12,0.01,0.24,0.01,0.37S16.25,14.25,16.24,14.37z M13,14 c0-1.66-1.34-3-3-3s-3,1.34-3,3s1.34,3,3,3S13,15.66,13,14z"/>
         </svg>
         <div>
           <h3 data-i18n="common.profile" class="text-sm font-medium text-on-surface"></h3>
           <span id="nusantara_profile" class="text-xs text-on-surface-variant block mt-1"></span>
         </div>
       </div>

       <div class="py-2 flex items-start gap-4">
         <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-primary mt-2 shrink-0">
           <path d="M4 18L10 12L4 6" />
           <path d="M12 18H20" stroke-miterlimit="10" />
         </svg>
         <div>
           <h3 data-i18n="common.kernel" class="text-sm font-medium text-on-surface"></h3>
           <span id="kernel_version" class="text-xs text-on-surface-variant block mt-1"></span>
         </div>
       </div>

       <div class="py-2 flex items-start gap-4">
         <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="text-primary mt-2 shrink-0">
           <path d="M9 3V5H7C5.89543 5 5 5.89543 5 7V9H3V7C3 4.79086 4.79086 3 7 3H9Z" fill="currentColor"/>
           <path d="M9 21V19H7C5.89543 19 5 18.1046 5 17V15H3V17C3 19.2091 4.79086 21 7 21H9Z" fill="currentColor"/>
           <path d="M15 3V5H17C18.1046 5 19 5.89543 19 7V9H21V7C21 4.79086 19.2091 3 17 3H15Z" fill="currentColor"/>
           <path d="M15 21V19H17C18.1046 19 19 18.1046 19 17V15H21V17C21 19.2091 19.2091 21 17 21H15Z" fill="currentColor"/>
           <rect x="7" y="7" width="10" height="10" rx="2" stroke="currentColor" stroke-width="2"/>
         </svg>
         <div>
           <h3 data-i18n="common.chipset" class="text-sm font-medium text-on-surface"></h3>
           <span id="chipset_name" class="text-xs text-on-surface-variant block mt-1"></span>
         </div>
       </div>
       
       <div class="py-2 flex items-start gap-4">
         <svg viewBox="0 0 32 32" width="20" height="20" fill="currentColor" class="text-primary mt-2 shrink-0">
           <path d="M23.35 12.653l2.496-4.323c0.044-0.074 0.07-0.164 0.07-0.26 0-0.287-0.232-0.519-0.519-0.519 -0.191 0-0.358 0.103-0.448 0.257l-0.001 0.002-2.527 4.377c-1.887-0.867-4.094-1.373-6.419-1.373s-4.532 0.506-6.517 1.413l0.098-0.04-2.527-4.378c-0.091-0.156-0.259-0.26-0.45-0.26 -0.287 0-0.519 0.232-0.519 0.519 0 0.096 0.026 0.185 0.071 0.262l-0.001-0.002 2.496 4.323c-4.286 2.367-7.236 6.697-7.643 11.744l-0.003 0.052h29.991c-0.41-5.099-3.36-9.429-7.57-11.758l-0.076-0.038zM9.098 20.176c-0.69 0-1.249-0.559-1.249-1.249s0.559-1.249 1.249-1.249 1.249 0.559 1.249 1.249 -0.559 1.249-1.249 1.249zM22.902 20.176c-0.69 0-1.249-0.559-1.249-1.249s0.559-1.249 1.249-1.249 1.249 0.559 1.249 1.249 -0.559 1.249-1.249 1.249z"/>
         </svg>
         <div>
           <h3 data-i18n="common.androidSDK" class="text-sm font-medium text-on-surface"></h3>
           <span id="android_sdk" class="text-xs text-on-surface-variant block mt-1"></span>
         </div>
       </div>
     </div>

      <!-- Settings -->
      <div class="bg-surface-container mb-4 p-4 rounded-xl text-on-surface card_border">
        <h2 data-i18n="settings.title" class="text-base font-semibold mb-2"></h2>

        <div class="flex items-center justify-between py-1 mb-2">
          <div>
            <span data-i18n="settings.dnd_gameplay"></span>
            <button class="btn btn-circle btn-ghost btn-xs text-primary info-btn" data-title-key="modal.dnd_title" data-desc-key="modal.dnd_desc">
              <svg tabindex="0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-4 w-4 stroke-current">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </button>
          </div>
          <label class="relative inline-flex cursor-pointer items-center">
            <input id="dnd_switch" type="checkbox" class="peer sr-only" />
            <label for="dnd_switch" class="hidden"></label>
            <div class="peer h-6 w-11 rounded-full border border-outline bg-surface-variant after:absolute after:left-[2px] after:top-0.5 after:h-5 after:w-5 after:rounded-full after:border after:border-4 after:border-surface-variant after:bg-outline after:transition-all after:content-[''] peer-checked:border-primary peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-on-primary peer-checked:after:bg-on-primary"></div>
          </label>
        </div>

        <div class="flex items-center justify-between py-1 mb-2">
          <div>
            <span data-i18n="settings.lite_mode"></span>
            <button class="btn btn-circle btn-ghost btn-xs text-primary info-btn" data-title-key="modal.lite_mode_title" data-desc-key="modal.lite_mode_desc">
              <svg tabindex="0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-4 w-4 stroke-current">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </button>
          </div>
          <label class="relative inline-flex cursor-pointer items-center">
            <input id="lite_mode_switch" type="checkbox" class="peer sr-only" />
            <label for="lite_mode_switch" class="hidden"></label>
            <div class="peer h-6 w-11 rounded-full border border-outline bg-surface-variant after:absolute after:left-[2px] after:top-0.5 after:h-5 after:w-5 after:rounded-full after:border after:border-4 after:border-surface-variant after:bg-outline after:transition-all after:content-[''] peer-checked:border-primary peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-on-primary peer-checked:after:bg-on-primary"></div>
          </label>
        </div>

        <div class="flex items-center justify-between py-1 mb-2">
          <div>
            <span data-i18n="settings.device_mitigation"></span>
            <button class="btn btn-circle btn-ghost btn-xs text-primary info-btn" data-title-key="modal.device_mitigation_title" data-desc-key="modal.device_mitigation_desc">
              <svg tabindex="0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-4 w-4 stroke-current">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </button>
          </div>
          <label class="relative inline-flex cursor-pointer items-center">
            <input id="device_mitigation_switch" type="checkbox" class="peer sr-only" />
            <label for="device_mitigation_switch" class="hidden"></label>
            <div class="peer h-6 w-11 rounded-full border border-outline bg-surface-variant after:absolute after:left-[2px] after:top-0.5 after:h-5 after:w-5 after:rounded-full after:border after:border-4 after:border-surface-variant after:bg-outline after:transition-all after:content-[''] peer-checked:border-primary peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-on-primary peer-checked:after:bg-on-primary"></div>
          </label>
        </div>

        <div class="py-1 mb-2">
          <p class="mb-2" data-i18n="settings.default_cpu_gov"></p>
          <select id="default_cpu_gov" class="select bg-primary text-xs text-on-primary w-full p-2">
            <option value="schedutil" selected>schedutil</option>
          </select>
        </div>

        <div class="py-1 mb-2">
          <p class="mb-2" data-i18n="settings.powersave_cpu_gov"></p>
          <select id="powersave_cpu_gov" class="select bg-primary text-xs text-on-primary w-full p-2">
            <option value="powersave" selected>powersave</option>
          </select>
        </div>
      </div>

      <!-- Actions -->
      <div class="bg-surface-container mb-4 p-4 rounded-xl card_border">
        <h2 data-i18n="actions.title" class="text-base font-semibold mb-4 text-on-surface"></h2>
        <button data-i18n="actions.edit_gamelist" id="edit_gamelist_btn" class="btn btn-block bg-primary hover:bg-primary text-on-primary py-1 mb-2" onclick="edit_gamelist.showModal()"></button>
        <button data-i18n="actions.create_shortcut" id="create_shortcut_btn" class="btn btn-block bg-primary hover:bg-primary text-on-primary py-1 mb-2 hidden"></button>
        <button data-i18n="actions.save_logs" id="save_log_btn" class="btn btn-block bg-primary hover:bg-primary text-on-primary py-1 mb-2"></button>
      </div>

      <!-- Donate Button -->
      <button id="donate_btn" class="text-left text-on-surface bg-surface-container mb-4 p-4 rounded-xl w-full active:bg-secondary-container transition duration-300 card_border">
        <h2 data-i18n="support.title" class="text-base font-semibold px-2 mb-1"></h2>
        <p data-i18n="support.description" class="text-sm text-on-surface-variant px-2 mb-1"></p>
      </button>

      <!-- Modals -->
      <dialog id="info_modal" class="modal">
        <div class="modal-box bg-surface-container text-on-surface card_border">
          <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
          </form>
          <h3 id="info_modal_title" class="text-lg font-bold"></h3>
          <p id="info_modal_desc" class="py-4"></p>
        </div>
      </dialog>

      <dialog id="edit_gamelist" class="modal">
        <div class="modal-box bg-surface-container text-on-surface card_border">
          <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
          </form>
          <h3 data-i18n="modal.edit_gamelist_title" class="text-lg font-bold"></h3>
          <p data-i18n="modal.edit_gamelist_desc" class="py-4"></p>
          <textarea id="gamelist_textarea" class="w-full p-2 text-sm text-on-surface bg-surface-dim border border-primary outline-none shadow-none rounded-md resize-none mb-2" rows="14"></textarea>
          <form method="dialog">
            <button data-i18n="modal.save_changes" id="save_gamelist_btn" class="btn btn-block btn-sm bg-primary text-on-primary font-normal mb-2 hover:bg-primary duration-300"></button>
            <button data-i18n="modal.cancel_changes" class="btn btn-block btn-sm bg-secondary-container text-on-secondary-container font-normal hover:bg-secondary-container duration-300"></button>
          </form>
        </div>
      </dialog>

      <dialog id="custom_modal" class="modal">
        <div class="modal-box bg-surface-container text-on-surface card_border">
          <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
          </form>
          <h3 id="custom_modal_title" class="text-lg font-bold"></h3>
          <p id="custom_modal_desc" class="py-4"></p>
        </div>
      </dialog>
    </main>
  </body>
</html>
